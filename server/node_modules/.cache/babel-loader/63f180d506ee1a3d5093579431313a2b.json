{"ast":null,"code":"const mongoose = require('mongoose');\n\nvar moviedata = require('../data/RateflixMoviesData.json');\n\nvar MongoClient = require('mongodb').MongoClient;\n\nvar url = \"mongodb://localhost:27017/\";\nMongoClient.connect(url, function (err, db) {\n  if (err) throw err;\n  var dbo = db.db(\"Rateflix\");\n  /*dbo.collection(\"Movie\").insertMany(moviedata, function(err, res) {\n  if (err) throw err;\n  console.log(\"Number of documents inserted: \" + res.insertedCount);\n  })*/\n\n  db.close();\n  mongoose.connect('mongodb://127.0.0.1:27017/Movie', {\n    useNewUrlParser: true\n  }).catch(function (err) {\n    console.error('Connection error', err.message);\n  });\n  const dbi = mongoose.connection;\n  module.exports = dbi;\n});","map":{"version":3,"sources":["/Users/aanchalnarendran/Desktop/Rateflix/server/src/db/movies.js"],"names":["mongoose","require","moviedata","MongoClient","url","connect","err","db","dbo","close","useNewUrlParser","catch","console","error","message","dbi","connection","module","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAIC,SAAS,GAACD,OAAO,CAAC,iCAAD,CAArB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,SAAD,CAAP,CAAmBE,WAArC;;AAEA,IAAIC,GAAG,GAAE,4BAAT;AACAD,WAAW,CAACE,OAAZ,CAAoBD,GAApB,EAAyB,UAASE,GAAT,EAAcC,EAAd,EAAkB;AAC3C,MAAID,GAAJ,EAAS,MAAMA,GAAN;AACT,MAAIE,GAAG,GAAGD,EAAE,CAACA,EAAH,CAAM,UAAN,CAAV;AACA;AACA;AACA;AACA;;AACAA,EAAAA,EAAE,CAACE,KAAH;AACAT,EAAAA,QAAQ,CAACK,OAAT,CAAiB,iCAAjB,EAAmD;AAACK,IAAAA,eAAe,EAAC;AAAjB,GAAnD,EACCC,KADD,CACO,UAASL,GAAT,EAAc;AACjBM,IAAAA,OAAO,CAACC,KAAR,CAAc,kBAAd,EAAiCP,GAAG,CAACQ,OAArC;AACH,GAHD;AAKA,QAAMC,GAAG,GAACf,QAAQ,CAACgB,UAAnB;AACAC,EAAAA,MAAM,CAACC,OAAP,GAAeH,GAAf;AACC,CAfD","sourcesContent":["const mongoose = require('mongoose')\nvar moviedata=require('../data/RateflixMoviesData.json')\nvar MongoClient = require('mongodb').MongoClient;\n\nvar url =\"mongodb://localhost:27017/\";\nMongoClient.connect(url, function(err, db) {\nif (err) throw err;\nvar dbo = db.db(\"Rateflix\");\n/*dbo.collection(\"Movie\").insertMany(moviedata, function(err, res) {\nif (err) throw err;\nconsole.log(\"Number of documents inserted: \" + res.insertedCount);\n})*/\ndb.close()\nmongoose.connect('mongodb://127.0.0.1:27017/Movie',{useNewUrlParser:true})\n.catch(function(err) {\n    console.error('Connection error',err.message)\n})\n\nconst dbi=mongoose.connection\nmodule.exports=dbi\n});\n\n"]},"metadata":{},"sourceType":"module"}