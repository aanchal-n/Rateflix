{"ast":null,"code":"const mongoose = require('mongoose');\n\nvar tvshowsdata = require('../data/RateflixTVShowsData.json');\n\nvar MongoClient = require('mongodb').MongoClient;\n\nvar url = \"mongodb://localhost:27017/\";\nMongoClient.connect(url, function (err, db) {\n  if (err) throw err;\n  var dbo = db.db(\"Rateflix\");\n  /*dbo.collection(\"TVShow\").insertMany(tvshowsdata,function(err,res) {\n      if (err) throw err\n      console.log(\"Number of records inserted\"+res.insertedCount);\n  })*/\n\n  db.close();\n  mongoose.connect('mongodb://127.0.0.1:27017/TVShow', {\n    useNewUrlParser: true\n  }).catch(function (err) {\n    console.error('Connection error', err.message);\n  });\n  const dbi = mongoose.connection;\n  module.exports = dbi;\n});","map":{"version":3,"sources":["/Users/aanchalnarendran/Desktop/Rateflix/server/src/db/tvshows.js"],"names":["mongoose","require","tvshowsdata","MongoClient","url","connect","err","db","dbo","close","useNewUrlParser","catch","console","error","message","dbi","connection","module","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAIC,WAAW,GAACD,OAAO,CAAC,kCAAD,CAAvB;;AACA,IAAIE,WAAW,GAAGF,OAAO,CAAC,SAAD,CAAP,CAAmBE,WAArC;;AAEA,IAAIC,GAAG,GAAE,4BAAT;AACAD,WAAW,CAACE,OAAZ,CAAoBD,GAApB,EAAyB,UAASE,GAAT,EAAcC,EAAd,EAAkB;AAC3C,MAAID,GAAJ,EAAS,MAAMA,GAAN;AACT,MAAIE,GAAG,GAAGD,EAAE,CAACA,EAAH,CAAM,UAAN,CAAV;AACA;AACA;AACA;AACA;;AACAA,EAAAA,EAAE,CAACE,KAAH;AACAT,EAAAA,QAAQ,CAACK,OAAT,CAAiB,kCAAjB,EAAoD;AAACK,IAAAA,eAAe,EAAC;AAAjB,GAApD,EACCC,KADD,CACO,UAASL,GAAT,EAAc;AACjBM,IAAAA,OAAO,CAACC,KAAR,CAAc,kBAAd,EAAiCP,GAAG,CAACQ,OAArC;AACH,GAHD;AAKA,QAAMC,GAAG,GAACf,QAAQ,CAACgB,UAAnB;AACAC,EAAAA,MAAM,CAACC,OAAP,GAAeH,GAAf;AACC,CAfD","sourcesContent":["const mongoose = require('mongoose')\nvar tvshowsdata=require('../data/RateflixTVShowsData.json')\nvar MongoClient = require('mongodb').MongoClient;\n\nvar url =\"mongodb://localhost:27017/\";\nMongoClient.connect(url, function(err, db) {\nif (err) throw err;\nvar dbo = db.db(\"Rateflix\");\n/*dbo.collection(\"TVShow\").insertMany(tvshowsdata,function(err,res) {\n    if (err) throw err\n    console.log(\"Number of records inserted\"+res.insertedCount);\n})*/\ndb.close()\nmongoose.connect('mongodb://127.0.0.1:27017/TVShow',{useNewUrlParser:true})\n.catch(function(err) {\n    console.error('Connection error',err.message)\n})\n\nconst dbi=mongoose.connection\nmodule.exports=dbi\n});\n\n"]},"metadata":{},"sourceType":"module"}